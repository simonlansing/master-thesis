%=============================================================================
% Global document preferences and definitons
%=============================================================================
\PassOptionsToPackage{toc=bib}{biblatex}
\PassOptionsToPackage{hyphens}{url} %Linebrak in urls after '-'
\RequirePackage[usenames,dvipsnames]{xcolor} % Colors
\RequirePackage[breaklinks=true,linkbordercolor=blue]{hyperref}
\RequirePackage{graphicx}
\RequirePackage{titlesec}
\RequirePackage{pdfsync}
\RequirePackage{cst-titlepage, cst-affirmation}
\RequirePackage[headsepline]{scrpage2}
\RequirePackage{listings}
\RequirePackage[acronym, toc]{glossaries}
\RequirePackage{booktabs}
\RequirePackage{lmodern}
\RequirePackage{bytefield}
\RequirePackage[small]{caption}
\RequirePackage[ngerman]{todonotes} % Brauchen wir zum hervorheben des Todo-Befehls
\RequirePackage{subcaption} % Ermöglicht zusätzlichen Bildunterschriften
%http://get-software.net/macros/latex/contrib/caption/subcaption.pdf
\RequirePackage{amssymb, amsmath, amsthm} % Mathesymbole
\RequirePackage{verbatim} % Um Quellcode in das Dokument einzufügen.
\RequirePackage{url} % Bessere Darstellung von URLs
\RequirePackage{longtable} % Für Tabellen über mehrere Seiten
\captionsetup[subfigure]{labelformat=brace} % Einstellungen für Subfigure







\input{glossary}
% \input{hyphenation}

%\usepackage[backend=biber,style=numeric,natbib=true,isbn=false,doi=false]{biblatex}
%Biber zwingen URLS umzubrechen
%\setcounter{biburllcpenalty}{7000}
%\setcounter{biburlucpenalty}{8000}
%Quellenverzeichnis einfügen
%\printbibliography 

\makeglossary
\setcounter{secnumdepth}{2}
\setcounter{tocdepth}{2}
\parindent 0pt
\parskip 1ex

\iflanguage{ngerman}{
\def\@trans@lstlistlistingname{Quellcodeverzeichnis}
\def\@trans@lstlistingname{Quellcode}
\let\lstlistlistingname\@trans@lstlistlistingname
\let\lstlistingname\@trans@lstlistingname
}{}

%=============================================================================
% Kopfzeile und Fusszeile definieren
%=============================================================================
\pagestyle{scrheadings} % the fancy headers of koma script
\if@twoside
\rehead{\leftmark} % chapter number and name on the inner edge of all left pages
\lohead{\rightmark} % section number and name on the inner edge of all right pages
\fi
\ohead[\pagemark]{\pagemark} % page number at the outer edge
\automark[section]{chapter}
% 
% empty footer
\ifoot{}
\cfoot[]{}
\ofoot{}

\renewcommand*{\chapterpagestyle}{empty}

%=============================================================================
% Makro definitions
%=============================================================================
\newcommand{\rem}[1]{}
\renewcommand{\subsectionautorefname}{Abschnitt}
\renewcommand{\sectionautorefname}{Abschnitt}
\renewcommand{\subsubsectionautorefname}{Abschnitt}
\providecommand*{\lstnumberautorefname}{Zeile}
\titleformat{\chapter}[display]
  {\normalfont\Large\filcenter\sffamily}
  {\titlerule[2pt]%
   \vspace{2pt}%
   \titlerule
   \vspace{1pc}%
   \LARGE\MakeUppercase{\chaptertitlename} \thechapter}
  {1pc}
  {\titlerule
   \vspace{1pc}%
   \Huge}

\titleformat{\section}%
  {\normalfont\Large\sffamily}%
  {\thesection}%
  {1em}%
  {}%

\titleformat{\subsubsection}%
  {\normalfont\sffamily}%
  {\thesubsubsection}%
  {1em}%
  {}%

\titleformat{\subsection}%
  {\normalfont\large\sffamily}%
  {\thesubsection}%
  {1em}%
  {}%

\titleformat{\paragraph}[runin]%
  {\normalfont\itshape}%
  {\emph{\theparagraph}}%
  {}%
  {}%

%=============================================================================
% fix for listings package, depricated?
%=============================================================================
%\makeatletter
%\@ifundefined{float@listhead}{}{%
%    \renewcommand*{\lstlistoflistings}{%
%        \begingroup
%            \if@twocolumn
%                \@restonecoltrue\onecolumn
%            \else
%                \@restonecolfalse
%            \fi
%            \float@listhead{\lstlistlistingname}%
%            \setlength{\parskip}{\z@}%
%            \setlength{\parindent}{\z@}%
%            \setlength{\parfillskip}{\z@ \@plus 1fil}%
%            \@starttoc{lol}%
%            \if@restonecol\twocolumn\fi
%        \endgroup
%    }%
%}
%\makeatother
%=============================================================================
% maketitle clears thetitle variable, save it as THETITLE
%=============================================================================
\makeatletter
\def\title#1{\gdef\@title{#1}\gdef\THETITLE{#1}}
\makeatother
%Define a color for highlighting source code
\definecolor{DarkBlue}{rgb}{0,0,.6}

%=============================================================================
%Settings for fancy source code
%=============================================================================

\lstset {
	language           = C++, 
    backgroundcolor    = \color{gray!10},
    aboveskip          = 20pt,
    xleftmargin		   =.6cm,
    belowskip          = 0pt,
    literate={...}{{{\color{red}...}}}3,
    basicstyle         = \ttfamily\scriptsize,
    keywordstyle       = \bfseries\ttfamily\color{DarkBlue},
    stringstyle        = \itshape\color{Black}\ttfamily,
    commentstyle       = \color{Gray}\ttfamily,
    identifierstyle    = \color{Black}\ttfamily,
    captionpos         = b,
    escapechar         = \%,
	escapeinside={\%*}{*)},
	morekeywords={}, 
    extendedchars      = true,
    frame              = lines,
	emph={...},
	emphstyle=\color{red},
    mathescape         = true,
    numbers            = left,
    numberfirstline    = false,
    firstnumber        = 1,
    stepnumber         = 1,
    showstringspaces   = false,
    tabsize            = 2,    
	showspaces=false,   
	showstringspaces=false,
	showtabs=false, 
	breaklines=true, 
	numbers=left,                   
	numberstyle=\scriptsize,      
} 